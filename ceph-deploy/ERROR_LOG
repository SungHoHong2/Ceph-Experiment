sungho@sungho-VirtualBox:~/my-cluster$ ceph-deploy install admin
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/sungho/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.32): /usr/bin/ceph-deploy install admin
[ceph_deploy.cli][INFO  ] ceph-deploy options:
[ceph_deploy.cli][INFO  ]  verbose                       : False
[ceph_deploy.cli][INFO  ]  testing                       : None
[ceph_deploy.cli][INFO  ]  cd_conf                       : <ceph_deploy.conf.cephdeploy.Conf instance at 0x7fc87bb4a4d0>
[ceph_deploy.cli][INFO  ]  cluster                       : ceph
[ceph_deploy.cli][INFO  ]  dev_commit                    : None
[ceph_deploy.cli][INFO  ]  install_mds                   : False
[ceph_deploy.cli][INFO  ]  stable                        : None
[ceph_deploy.cli][INFO  ]  default_release               : False
[ceph_deploy.cli][INFO  ]  username                      : None
[ceph_deploy.cli][INFO  ]  adjust_repos                  : False
[ceph_deploy.cli][INFO  ]  func                          : <function install at 0x7fc87bc26230>
[ceph_deploy.cli][INFO  ]  install_all                   : False
[ceph_deploy.cli][INFO  ]  repo                          : False
[ceph_deploy.cli][INFO  ]  host                          : ['admin']
[ceph_deploy.cli][INFO  ]  install_rgw                   : False
[ceph_deploy.cli][INFO  ]  install_tests                 : False
[ceph_deploy.cli][INFO  ]  repo_url                      : None
[ceph_deploy.cli][INFO  ]  ceph_conf                     : None
[ceph_deploy.cli][INFO  ]  install_osd                   : False
[ceph_deploy.cli][INFO  ]  version_kind                  : stable
[ceph_deploy.cli][INFO  ]  install_common                : False
[ceph_deploy.cli][INFO  ]  overwrite_conf                : False
[ceph_deploy.cli][INFO  ]  quiet                         : False
[ceph_deploy.cli][INFO  ]  dev                           : master
[ceph_deploy.cli][INFO  ]  local_mirror                  : None
[ceph_deploy.cli][INFO  ]  release                       : None
[ceph_deploy.cli][INFO  ]  install_mon                   : False
[ceph_deploy.cli][INFO  ]  gpg_url                       : None
[ceph_deploy.install][DEBUG ] Installing stable version infernalis on cluster ceph hosts admin
[ceph_deploy.install][DEBUG ] Detecting platform for host admin ...
[admin][DEBUG ] connection detected need for sudo
[admin][DEBUG ] connected to host: admin
[admin][DEBUG ] detect platform information from remote host
[admin][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 16.04 xenial
[admin][INFO  ] installing Ceph on admin
[admin][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get --assume-yes -q --no-install-recommends install ca-certificates apt-transport-https
[admin][DEBUG ] Reading package lists...
[admin][DEBUG ] Building dependency tree...
[admin][DEBUG ] Reading state information...
[admin][DEBUG ] apt-transport-https is already the newest version (1.2.24).
[admin][DEBUG ] ca-certificates is already the newest version (20170717~16.04.1).
[admin][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 152 not upgraded.
[admin][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get --assume-yes -q update
[admin][DEBUG ] Hit:1 http://us.archive.ubuntu.com/ubuntu xenial InRelease
[admin][DEBUG ] Get:2 http://us.archive.ubuntu.com/ubuntu xenial-updates InRelease [102 kB]
[admin][DEBUG ] Get:3 http://security.ubuntu.com/ubuntu xenial-security InRelease [102 kB]
[admin][DEBUG ] Get:4 http://us.archive.ubuntu.com/ubuntu xenial-backports InRelease [102 kB]
[admin][DEBUG ] Ign:5 https://download.ceph.com/debian-{ceph-stable-release} xenial InRelease
[admin][DEBUG ] Ign:6 https://download.ceph.com/debian-{ceph-stable-release} xenial Release
[admin][DEBUG ] Ign:7 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 Packages
[admin][DEBUG ] Ign:8 https://download.ceph.com/debian-{ceph-stable-release} xenial/main i386 Packages
[admin][DEBUG ] Ign:9 https://download.ceph.com/debian-{ceph-stable-release} xenial/main all Packages
[admin][DEBUG ] Ign:10 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en_US
[admin][DEBUG ] Ign:11 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en
[admin][DEBUG ] Ign:12 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 DEP-11 Metadata
[admin][DEBUG ] Ign:13 https://download.ceph.com/debian-{ceph-stable-release} xenial/main DEP-11 64x64 Icons
[admin][DEBUG ] Ign:7 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 Packages
[admin][DEBUG ] Ign:8 https://download.ceph.com/debian-{ceph-stable-release} xenial/main i386 Packages
[admin][DEBUG ] Ign:9 https://download.ceph.com/debian-{ceph-stable-release} xenial/main all Packages
[admin][DEBUG ] Ign:10 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en_US
[admin][DEBUG ] Ign:11 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en
[admin][DEBUG ] Ign:12 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 DEP-11 Metadata
[admin][DEBUG ] Ign:13 https://download.ceph.com/debian-{ceph-stable-release} xenial/main DEP-11 64x64 Icons
[admin][DEBUG ] Ign:7 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 Packages
[admin][DEBUG ] Ign:8 https://download.ceph.com/debian-{ceph-stable-release} xenial/main i386 Packages
[admin][DEBUG ] Ign:9 https://download.ceph.com/debian-{ceph-stable-release} xenial/main all Packages
[admin][DEBUG ] Ign:10 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en_US
[admin][DEBUG ] Ign:11 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en
[admin][DEBUG ] Ign:12 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 DEP-11 Metadata
[admin][DEBUG ] Ign:13 https://download.ceph.com/debian-{ceph-stable-release} xenial/main DEP-11 64x64 Icons
[admin][DEBUG ] Ign:7 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 Packages
[admin][DEBUG ] Ign:8 https://download.ceph.com/debian-{ceph-stable-release} xenial/main i386 Packages
[admin][DEBUG ] Ign:9 https://download.ceph.com/debian-{ceph-stable-release} xenial/main all Packages
[admin][DEBUG ] Ign:10 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en_US
[admin][DEBUG ] Ign:11 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en
[admin][DEBUG ] Ign:12 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 DEP-11 Metadata
[admin][DEBUG ] Ign:13 https://download.ceph.com/debian-{ceph-stable-release} xenial/main DEP-11 64x64 Icons
[admin][DEBUG ] Ign:7 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 Packages
[admin][DEBUG ] Ign:8 https://download.ceph.com/debian-{ceph-stable-release} xenial/main i386 Packages
[admin][DEBUG ] Ign:9 https://download.ceph.com/debian-{ceph-stable-release} xenial/main all Packages
[admin][DEBUG ] Ign:10 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en_US
[admin][DEBUG ] Ign:11 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en
[admin][DEBUG ] Ign:12 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 DEP-11 Metadata
[admin][DEBUG ] Ign:13 https://download.ceph.com/debian-{ceph-stable-release} xenial/main DEP-11 64x64 Icons
[admin][DEBUG ] Err:7 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 Packages
[admin][DEBUG ]   404  Not Found
[admin][DEBUG ] Ign:8 https://download.ceph.com/debian-{ceph-stable-release} xenial/main i386 Packages
[admin][DEBUG ] Ign:9 https://download.ceph.com/debian-{ceph-stable-release} xenial/main all Packages
[admin][DEBUG ] Ign:10 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en_US
[admin][DEBUG ] Ign:11 https://download.ceph.com/debian-{ceph-stable-release} xenial/main Translation-en
[admin][DEBUG ] Ign:12 https://download.ceph.com/debian-{ceph-stable-release} xenial/main amd64 DEP-11 Metadata
[admin][DEBUG ] Ign:13 https://download.ceph.com/debian-{ceph-stable-release} xenial/main DEP-11 64x64 Icons
[admin][DEBUG ] Fetched 306 kB in 4s (61.9 kB/s)
[admin][DEBUG ] Reading package lists...
[admin][WARNIN] W: The repository 'https://download.ceph.com/debian-{ceph-stable-release} xenial Release' does not have a Release file.
[admin][WARNIN] E: Failed to fetch https://download.ceph.com/debian-{ceph-stable-release}/dists/xenial/main/binary-amd64/Packages  404  Not Found
[admin][WARNIN] E: Some index files failed to download. They have been ignored, or old ones used instead.
[admin][ERROR ] RuntimeError: command returned non-zero exit status: 100
[ceph_deploy][ERROR ] RuntimeError: Failed to execute command: env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get --assume-yes -q update








sungho@sungho-VirtualBox:~/my-cluster$ ceph-deploy install child1 child2
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/sungho/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.32): /usr/bin/ceph-deploy install child1 child2
[ceph_deploy.cli][INFO  ] ceph-deploy options:
[ceph_deploy.cli][INFO  ]  verbose                       : False
[ceph_deploy.cli][INFO  ]  testing                       : None
[ceph_deploy.cli][INFO  ]  cd_conf                       : <ceph_deploy.conf.cephdeploy.Conf instance at 0x7f54071474d0>
[ceph_deploy.cli][INFO  ]  cluster                       : ceph
[ceph_deploy.cli][INFO  ]  dev_commit                    : None
[ceph_deploy.cli][INFO  ]  install_mds                   : False
[ceph_deploy.cli][INFO  ]  stable                        : None
[ceph_deploy.cli][INFO  ]  default_release               : False
[ceph_deploy.cli][INFO  ]  username                      : None
[ceph_deploy.cli][INFO  ]  adjust_repos                  : False
[ceph_deploy.cli][INFO  ]  func                          : <function install at 0x7f5407223230>
[ceph_deploy.cli][INFO  ]  install_all                   : False
[ceph_deploy.cli][INFO  ]  repo                          : False
[ceph_deploy.cli][INFO  ]  host                          : ['child1', 'child2']
[ceph_deploy.cli][INFO  ]  install_rgw                   : False
[ceph_deploy.cli][INFO  ]  install_tests                 : False
[ceph_deploy.cli][INFO  ]  repo_url                      : None
[ceph_deploy.cli][INFO  ]  ceph_conf                     : None
[ceph_deploy.cli][INFO  ]  install_osd                   : False
[ceph_deploy.cli][INFO  ]  version_kind                  : stable
[ceph_deploy.cli][INFO  ]  install_common                : False
[ceph_deploy.cli][INFO  ]  overwrite_conf                : False
[ceph_deploy.cli][INFO  ]  quiet                         : False
[ceph_deploy.cli][INFO  ]  dev                           : master
[ceph_deploy.cli][INFO  ]  local_mirror                  : None
[ceph_deploy.cli][INFO  ]  release                       : None
[ceph_deploy.cli][INFO  ]  install_mon                   : False
[ceph_deploy.cli][INFO  ]  gpg_url                       : None
[ceph_deploy.install][DEBUG ] Installing stable version infernalis on cluster ceph hosts child1 child2
[ceph_deploy.install][DEBUG ] Detecting platform for host child1 ...
[child1][DEBUG ] connection detected need for sudo
[child1][DEBUG ] connected to host: child1
[child1][DEBUG ] detect platform information from remote host
[child1][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 16.04 xenial
[child1][INFO  ] installing Ceph on child1
[child1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get --assume-yes -q --no-install-recommends install ca-certificates apt-transport-https
[child1][DEBUG ] Reading package lists...
[child1][DEBUG ] Building dependency tree...
[child1][DEBUG ] Reading state information...
[child1][DEBUG ] apt-transport-https is already the newest version (1.2.24).
[child1][DEBUG ] ca-certificates is already the newest version (20170717~16.04.1).
[child1][DEBUG ] The following packages were automatically installed and are no longer required:
[child1][DEBUG ]   libaio1 libboost-program-options1.58.0 libboost-random1.58.0
[child1][DEBUG ]   libboost-regex1.58.0 libboost-thread1.58.0 libcephfs1 libfcgi0ldbl
[child1][DEBUG ]   libgoogle-perftools4 libjs-jquery libleveldb1v5 librados2 libradosstriper1
[child1][DEBUG ]   librbd1 librgw2 libsnappy1v5 libtcmalloc-minimal4 python-cephfs
[child1][DEBUG ]   python-chardet python-flask python-itsdangerous python-jinja2
[child1][DEBUG ]   python-markupsafe python-pkg-resources python-rados python-rbd
[child1][DEBUG ]   python-requests python-six python-urllib3 python-werkzeug
[child1][DEBUG ] Use 'sudo apt autoremove' to remove them.
[child1][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 66 not upgraded.
[child1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get --assume-yes -q update
[child1][DEBUG ] Hit:1 http://us.archive.ubuntu.com/ubuntu xenial InRelease
[child1][DEBUG ] Get:2 http://us.archive.ubuntu.com/ubuntu xenial-updates InRelease [102 kB]
[child1][DEBUG ] Get:3 http://security.ubuntu.com/ubuntu xenial-security InRelease [102 kB]
[child1][DEBUG ] Get:4 http://us.archive.ubuntu.com/ubuntu xenial-backports InRelease [102 kB]
[child1][DEBUG ] Fetched 306 kB in 1s (298 kB/s)
[child1][DEBUG ] Reading package lists...
[child1][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get --assume-yes -q --no-install-recommends install -o Dpkg::Options::=--force-confnew ceph ceph-mds radosgw
[child1][DEBUG ] Reading package lists...
[child1][DEBUG ] Building dependency tree...
[child1][DEBUG ] Reading state information...
[child1][DEBUG ] The following additional packages will be installed:
[child1][DEBUG ]   ceph-common
[child1][DEBUG ] Recommended packages:
[child1][DEBUG ]   ceph-fs-common ceph-fuse
[child1][DEBUG ] The following NEW packages will be installed:
[child1][DEBUG ]   ceph ceph-common ceph-mds radosgw
[child1][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 66 not upgraded.
[child1][DEBUG ] Need to get 0 B/30.5 MB of archives.
[child1][DEBUG ] After this operation, 135 MB of additional disk space will be used.
[child1][DEBUG ] Selecting previously unselected package ceph-common.
(Reading database ... 214554 files and directories currently installed.)
[child1][DEBUG ] Preparing to unpack .../ceph-common_10.2.7-0ubuntu0.16.04.1_amd64.deb ...
[child1][DEBUG ] Unpacking ceph-common (10.2.7-0ubuntu0.16.04.1) ...
[child1][DEBUG ] Selecting previously unselected package ceph.
[child1][DEBUG ] Preparing to unpack .../ceph_10.2.7-0ubuntu0.16.04.1_amd64.deb ...
[child1][DEBUG ] Unpacking ceph (10.2.7-0ubuntu0.16.04.1) ...
[child1][DEBUG ] Selecting previously unselected package ceph-mds.
[child1][DEBUG ] Preparing to unpack .../ceph-mds_10.2.7-0ubuntu0.16.04.1_amd64.deb ...
[child1][DEBUG ] Unpacking ceph-mds (10.2.7-0ubuntu0.16.04.1) ...
[child1][DEBUG ] Selecting previously unselected package radosgw.
[child1][DEBUG ] Preparing to unpack .../radosgw_10.2.7-0ubuntu0.16.04.1_amd64.deb ...
[child1][DEBUG ] Unpacking radosgw (10.2.7-0ubuntu0.16.04.1) ...
[child1][DEBUG ] Processing triggers for systemd (229-4ubuntu19) ...
[child1][DEBUG ] Processing triggers for ureadahead (0.100.0-19) ...
[child1][DEBUG ] Processing triggers for man-db (2.7.5-1) ...
[child1][DEBUG ] Setting up ceph-common (10.2.7-0ubuntu0.16.04.1) ...
[child1][DEBUG ] [/usr/lib/tmpfiles.d/var.conf:14] Duplicate line for path "/var/log", ignoring.
[child1][DEBUG ] Setting up ceph (10.2.7-0ubuntu0.16.04.1) ...
[child1][DEBUG ] ceph-create-keys.service is a disabled or a static unit, not starting it.
[child1][DEBUG ] Setting up ceph-mds (10.2.7-0ubuntu0.16.04.1) ...
[child1][DEBUG ] Setting up radosgw (10.2.7-0ubuntu0.16.04.1) ...
[child1][DEBUG ] Processing triggers for systemd (229-4ubuntu19) ...
[child1][DEBUG ] Processing triggers for ureadahead (0.100.0-19) ...
[child1][INFO  ] Running command: sudo ceph --version
[child1][DEBUG ] ceph version 10.2.7 (50e863e0f4bc8f4b9e31156de690d765af245185)
[ceph_deploy.install][DEBUG ] Detecting platform for host child2 ...
[child2][DEBUG ] connection detected need for sudo
[child2][DEBUG ] connected to host: child2
[child2][DEBUG ] detect platform information from remote host
[child2][DEBUG ] detect machine type
[ceph_deploy.install][INFO  ] Distro info: Ubuntu 16.04 xenial
[child2][INFO  ] installing Ceph on child2
[child2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get --assume-yes -q --no-install-recommends install ca-certificates apt-transport-https
[child2][DEBUG ] Reading package lists...
[child2][DEBUG ] Building dependency tree...
[child2][DEBUG ] Reading state information...
[child2][DEBUG ] apt-transport-https is already the newest version (1.2.24).
[child2][DEBUG ] ca-certificates is already the newest version (20170717~16.04.1).
[child2][DEBUG ] The following packages were automatically installed and are no longer required:
[child2][DEBUG ]   libaio1 libboost-program-options1.58.0 libboost-random1.58.0
[child2][DEBUG ]   libboost-regex1.58.0 libboost-thread1.58.0 libcephfs1 libfcgi0ldbl
[child2][DEBUG ]   libgoogle-perftools4 libjs-jquery libleveldb1v5 librados2 libradosstriper1
[child2][DEBUG ]   librbd1 librgw2 libsnappy1v5 libtcmalloc-minimal4 python-cephfs
[child2][DEBUG ]   python-chardet python-flask python-itsdangerous python-jinja2
[child2][DEBUG ]   python-markupsafe python-pkg-resources python-rados python-rbd
[child2][DEBUG ]   python-requests python-six python-urllib3 python-werkzeug
[child2][DEBUG ] Use 'sudo apt autoremove' to remove them.
[child2][DEBUG ] 0 upgraded, 0 newly installed, 0 to remove and 152 not upgraded.
[child2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get --assume-yes -q update
[child2][DEBUG ] Hit:1 http://us.archive.ubuntu.com/ubuntu xenial InRelease
[child2][DEBUG ] Get:2 http://us.archive.ubuntu.com/ubuntu xenial-updates InRelease [102 kB]
[child2][DEBUG ] Get:3 http://security.ubuntu.com/ubuntu xenial-security InRelease [102 kB]
[child2][DEBUG ] Get:4 http://us.archive.ubuntu.com/ubuntu xenial-backports InRelease [102 kB]
[child2][DEBUG ] Fetched 306 kB in 0s (315 kB/s)
[child2][DEBUG ] Reading package lists...
[child2][INFO  ] Running command: sudo env DEBIAN_FRONTEND=noninteractive DEBIAN_PRIORITY=critical apt-get --assume-yes -q --no-install-recommends install -o Dpkg::Options::=--force-confnew ceph ceph-mds radosgw
[child2][DEBUG ] Reading package lists...
[child2][DEBUG ] Building dependency tree...
[child2][DEBUG ] Reading state information...
[child2][DEBUG ] The following additional packages will be installed:
[child2][DEBUG ]   ceph-common
[child2][DEBUG ] Recommended packages:
[child2][DEBUG ]   ceph-fs-common ceph-fuse
[child2][DEBUG ] The following NEW packages will be installed:
[child2][DEBUG ]   ceph ceph-common ceph-mds radosgw
[child2][DEBUG ] 0 upgraded, 4 newly installed, 0 to remove and 152 not upgraded.
[child2][DEBUG ] Need to get 0 B/30.5 MB of archives.
[child2][DEBUG ] After this operation, 135 MB of additional disk space will be used.
[child2][DEBUG ] Selecting previously unselected package ceph-common.
(Reading database ... 180489 files and directories currently installed.)
[child2][DEBUG ] Preparing to unpack .../ceph-common_10.2.7-0ubuntu0.16.04.1_amd64.deb ...
[child2][DEBUG ] Unpacking ceph-common (10.2.7-0ubuntu0.16.04.1) ...
[child2][DEBUG ] Selecting previously unselected package ceph.
[child2][DEBUG ] Preparing to unpack .../ceph_10.2.7-0ubuntu0.16.04.1_amd64.deb ...
[child2][DEBUG ] Unpacking ceph (10.2.7-0ubuntu0.16.04.1) ...
[child2][DEBUG ] Selecting previously unselected package ceph-mds.
[child2][DEBUG ] Preparing to unpack .../ceph-mds_10.2.7-0ubuntu0.16.04.1_amd64.deb ...
[child2][DEBUG ] Unpacking ceph-mds (10.2.7-0ubuntu0.16.04.1) ...
[child2][DEBUG ] Selecting previously unselected package radosgw.
[child2][DEBUG ] Preparing to unpack .../radosgw_10.2.7-0ubuntu0.16.04.1_amd64.deb ...
[child2][DEBUG ] Unpacking radosgw (10.2.7-0ubuntu0.16.04.1) ...
[child2][DEBUG ] Processing triggers for systemd (229-4ubuntu19) ...
[child2][DEBUG ] Processing triggers for ureadahead (0.100.0-19) ...
[child2][DEBUG ] Processing triggers for man-db (2.7.5-1) ...
[child2][DEBUG ] Setting up ceph-common (10.2.7-0ubuntu0.16.04.1) ...
[child2][DEBUG ] [/usr/lib/tmpfiles.d/var.conf:14] Duplicate line for path "/var/log", ignoring.
[child2][DEBUG ] Setting up ceph (10.2.7-0ubuntu0.16.04.1) ...
[child2][DEBUG ] ceph-create-keys.service is a disabled or a static unit, not starting it.
[child2][DEBUG ] Setting up ceph-mds (10.2.7-0ubuntu0.16.04.1) ...
[child2][DEBUG ] Setting up radosgw (10.2.7-0ubuntu0.16.04.1) ...
[child2][DEBUG ] Processing triggers for systemd (229-4ubuntu19) ...
[child2][DEBUG ] Processing triggers for ureadahead (0.100.0-19) ...
[child2][INFO  ] Running command: sudo ceph --version
[child2][DEBUG ] ceph version 10.2.7 (50e863e0f4bc8f4b9e31156de690d765af245185)






sungho@sungho-VirtualBox:~/my-cluster$ ceph-deploy new child1
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/sungho/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.32): /usr/bin/ceph-deploy new child1
[ceph_deploy.cli][INFO  ] ceph-deploy options:
[ceph_deploy.cli][INFO  ]  username                      : None
[ceph_deploy.cli][INFO  ]  verbose                       : False
[ceph_deploy.cli][INFO  ]  overwrite_conf                : False
[ceph_deploy.cli][INFO  ]  quiet                         : False
[ceph_deploy.cli][INFO  ]  cd_conf                       : <ceph_deploy.conf.cephdeploy.Conf instance at 0x7ffa934a4440>
[ceph_deploy.cli][INFO  ]  cluster                       : ceph
[ceph_deploy.cli][INFO  ]  ssh_copykey                   : True
[ceph_deploy.cli][INFO  ]  mon                           : ['child1']
[ceph_deploy.cli][INFO  ]  func                          : <function new at 0x7ffa93593050>
[ceph_deploy.cli][INFO  ]  public_network                : None
[ceph_deploy.cli][INFO  ]  ceph_conf                     : None
[ceph_deploy.cli][INFO  ]  cluster_network               : None
[ceph_deploy.cli][INFO  ]  default_release               : False
[ceph_deploy.cli][INFO  ]  fsid                          : None
[ceph_deploy.new][DEBUG ] Creating new cluster named ceph
[ceph_deploy.new][INFO  ] making sure passwordless SSH succeeds
[child1][DEBUG ] connected to host: sungho-VirtualBox
[child1][INFO  ] Running command: ssh -CT -o BatchMode=yes child1
[child1][DEBUG ] connection detected need for sudo
[child1][DEBUG ] connected to host: child1
[child1][DEBUG ] detect platform information from remote host
[child1][DEBUG ] detect machine type
[child1][DEBUG ] find the location of an executable
[child1][INFO  ] Running command: sudo /bin/ip link show
[child1][INFO  ] Running command: sudo /bin/ip addr show
[child1][DEBUG ] IP addresses found: ['10.0.2.4', '10.0.4.15', '10.0.3.15']
[ceph_deploy.new][DEBUG ] Resolving host child1
[ceph_deploy.new][DEBUG ] Monitor child1 at 10.0.2.4
[ceph_deploy.new][DEBUG ] Monitor initial members are ['child1']
[ceph_deploy.new][DEBUG ] Monitor addrs are ['10.0.2.4']
[ceph_deploy.new][DEBUG ] Creating a random mon key...
[ceph_deploy.new][DEBUG ] Writing monitor keyring to ceph.mon.keyring...
[ceph_deploy.new][DEBUG ] Writing initial config to ceph.conf...
sungho@sungho-VirtualBox:~/my-cluster$
sungho@sungho-VirtualBox:~/my-cluster$ ceph-deploy mon create-initial
[ceph_deploy.conf][DEBUG ] found configuration file at: /home/sungho/.cephdeploy.conf
[ceph_deploy.cli][INFO  ] Invoked (1.5.32): /usr/bin/ceph-deploy mon create-initial
[ceph_deploy.cli][INFO  ] ceph-deploy options:
[ceph_deploy.cli][INFO  ]  username                      : None
[ceph_deploy.cli][INFO  ]  verbose                       : False
[ceph_deploy.cli][INFO  ]  overwrite_conf                : False
[ceph_deploy.cli][INFO  ]  subcommand                    : create-initial
[ceph_deploy.cli][INFO  ]  quiet                         : False
[ceph_deploy.cli][INFO  ]  cd_conf                       : <ceph_deploy.conf.cephdeploy.Conf instance at 0x7f6d553187a0>
[ceph_deploy.cli][INFO  ]  cluster                       : ceph
[ceph_deploy.cli][INFO  ]  func                          : <function mon at 0x7f6d552f2ed8>
[ceph_deploy.cli][INFO  ]  ceph_conf                     : None
[ceph_deploy.cli][INFO  ]  keyrings                      : None
[ceph_deploy.cli][INFO  ]  default_release               : False
[ceph_deploy.mon][DEBUG ] Deploying mon, cluster ceph hosts child1
[ceph_deploy.mon][DEBUG ] detecting platform for host child1 ...
[child1][DEBUG ] connection detected need for sudo
[child1][DEBUG ] connected to host: child1
[child1][DEBUG ] detect platform information from remote host
[child1][DEBUG ] detect machine type
[child1][DEBUG ] find the location of an executable
[ceph_deploy.mon][INFO  ] distro info: Ubuntu 16.04 xenial
[child1][DEBUG ] determining if provided host has same hostname in remote
[child1][DEBUG ] get remote short hostname
[child1][WARNIN] ********************************************************************************
[child1][WARNIN] provided hostname must match remote hostname
[child1][WARNIN] provided hostname: child1
[child1][WARNIN] remote hostname: sungho-VirtualBox
[child1][WARNIN] monitors may not reach quorum and create-keys will not complete
[child1][WARNIN] ********************************************************************************
[child1][DEBUG ] deploying mon to child1
[child1][DEBUG ] get remote short hostname
[child1][DEBUG ] remote hostname: sungho-VirtualBox
[child1][DEBUG ] write cluster configuration to /etc/ceph/{cluster}.conf
[child1][DEBUG ] create the mon path if it does not exist
[child1][DEBUG ] checking for done path: /var/lib/ceph/mon/ceph-sungho-VirtualBox/done
[child1][DEBUG ] done path does not exist: /var/lib/ceph/mon/ceph-sungho-VirtualBox/done
[child1][INFO  ] creating keyring file: /var/lib/ceph/tmp/ceph-sungho-VirtualBox.mon.keyring
[child1][DEBUG ] create the monitor keyring file
[child1][INFO  ] Running command: sudo ceph-mon --cluster ceph --mkfs -i sungho-VirtualBox --keyring /var/lib/ceph/tmp/ceph-sungho-VirtualBox.mon.keyring --setuser 64045 --setgroup 64045
[child1][DEBUG ] ceph-mon: mon.noname-a 10.0.2.4:6789/0 is local, renaming to mon.sungho-VirtualBox
[child1][DEBUG ] ceph-mon: set fsid to e6bf00c9-4d7e-45ac-a537-dd78b34b350b
[child1][DEBUG ] ceph-mon: created monfs at /var/lib/ceph/mon/ceph-sungho-VirtualBox for mon.sungho-VirtualBox
[child1][INFO  ] unlinking keyring file /var/lib/ceph/tmp/ceph-sungho-VirtualBox.mon.keyring
[child1][DEBUG ] create a done file to avoid re-doing the mon deployment
[child1][DEBUG ] create the init path if it does not exist
[child1][INFO  ] Running command: sudo systemctl enable ceph.target
[child1][INFO  ] Running command: sudo systemctl enable ceph-mon@sungho-VirtualBox
[child1][INFO  ] Running command: sudo systemctl start ceph-mon@sungho-VirtualBox
[child1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.child1.asok mon_status
[child1][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[child1][WARNIN] monitor: mon.child1, might not be running yet
[child1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.child1.asok mon_status
[child1][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[child1][WARNIN] monitor child1 does not exist in monmap
[child1][WARNIN] neither `public_addr` nor `public_network` keys are defined for monitors
[child1][WARNIN] monitors may not be able to form quorum
[ceph_deploy.mon][INFO  ] processing monitor mon.child1
[child1][DEBUG ] connection detected need for sudo
[child1][DEBUG ] connected to host: child1
[child1][DEBUG ] detect platform information from remote host
[child1][DEBUG ] detect machine type
[child1][DEBUG ] find the location of an executable
[child1][INFO  ] Running command: sudo ceph --cluster=ceph --admin-daemon /var/run/ceph/ceph-mon.child1.asok mon_status
[child1][ERROR ] admin_socket: exception getting command descriptions: [Errno 2] No such file or directory
[ceph_deploy.mon][WARNIN] mon.child1 monitor is not yet in quorum, tries left: 5
[ceph_deploy.mon][WARNIN] waiting 5 seconds before retrying
^C[ceph_deploy][ERROR ] KeyboardInterrupt
